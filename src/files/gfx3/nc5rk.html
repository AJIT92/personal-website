---
---
<!DOCTYPE html>
<html>
<head>
  <title>Assignment 3 Writeup</title>
  <style type="text/css">
  body {
    font-family: "Times New Roman", Times, serif;
    margin: 0 auto 15px;
    width: 960px;
  }
  table {
    border-spacing: 0;
    border-collapse: collapse;
  }
  td {
    padding: 5px 0 0 10px;
    vertical-align: top;
  }
  td:first-child {
    background: #ddd;
    font-weight: bold;
    min-width: 115px;
  }
  ul, ol {
    margin-left: -20px;
  }
  img {
    border: 1px solid #000;
    width: 500px;
    margin: 3px;
  }
  .green td:nth-child(2), .green span { /* (No affiliation with the Fed) */
    color: #080;
    font-weight: bold;
  }
  .yellow td:nth-child(2), .yellow span {
    color: #b90;
    font-weight: bold;
  }
  .red td:nth-child(2), .red span {
    color: #a00;
    font-weight: bold;
  }
  </style>
  <!--
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function(){
      var score = 0;
      var text;
      $(".green td:nth-child(2)").each(function(){
        text = $(this).text().substr(1, 1);
        if (text != "?") {
          score += 1.0 * text;
        }
      });
      $("tr:nth-child(6)").after("<tr><td>Points</td><td colspan='2'>" + score + "</td></tr>");
    });
  </script>
  -->
</head>
<body>
  <table>
    <tr>
      <td>Name</td>
      <td colspan="2">Nachapon (Art) Chaidarun</td>
    </tr>
    <tr>
      <td>Computing ID</td>
      <td colspan="2">nc5rk</td>
    </tr>
    <tr>
      <td>Assignment</td>
      <td colspan="2">CS 4810 Assignment 3, due November 28, 2012</td>
    </tr>
    <tr>
      <td>Environment</td>
      <td colspan="2">g++, Sublime Text, Fedora 17 (64-bit)</td>
    </tr>
    <tr>
      <td>Commands</td>
      <td colspan="2">make; ./results.sh</td>
    </tr>
    <tr>
      <td>Late days used</td>
      <td colspan="2">0</td>
    </tr>
    <tr>
      <td>Features</td>
      <td colspan="2">Green features are fully implemented; yellow features are partially implemented; red features are unimplemented. <br><img src="nc5rk_HTML/test.png"></td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(1)</td>
      <td>
        <span>RayCamera::drawOpenGL</span>
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(1)</td>
      <td>
        <span>RayGroup::drawOpenGL</span><br>First version: Local transformation information ignored
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(1)</td>
      <td>
        <span>RaySphere::drawOpenGL</span>
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(2)</td>
      <td>
        <span>RayTriangle::drawOpenGL</span><br>First version: Texture coordinates ignored
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(2)</td>
      <td>
        <span>RayMaterial::drawOpenGL</span><br>First version: Texture not enabled
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(3)</td>
      <td>
        <span>RayPointLight::drawOpenGL, RaySpotLight::drawOpenGL, RayDirectionalLight::drawOpenGL</span>
        <p>In order to implement ambient lighting, access to the <em>ambient</em> field of the current RayScene was necessary. Since none of the <em>*.todo.cpp</em> files contained a RayScene method from which I could use <em>ambient</em>, I had to modify <em>rayScene.cpp</em> directly by adding a call to <em>glLightModelfv(GL_LIGHT_MODEL_AMBIENT, ambient_color)</em> in <em>RayScene::drawOpenGL</em>.</p>
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(2)</td>
      <td>
        <span>RayGroup::intersect</span><br>Second version: Local transformations taken into account
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(2)</td>
      <td>
        <span>RayGroup::getOpenGLCallList, RayGroup::drawOpenGL</span>
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(3)</td>
      <td>
        <span>RayTriangle::drawOpenGL, RayMaterial::drawOpenGL, RayTexture::setUpOpenGL</span><br>Triangle texture mapping implemented
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(1)</td>
      <td>
        <span>RayBox::drawOpenGL</span>
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(1)</td>
      <td>
        <span>RayCylinder::drawOpenGL</span>
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(1)</td>
      <td>
        <span>RayCone::drawOpenGL</span>
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(2)</td>
      <td>
        <span>Mouse control</span>
        <p>The feature description specifies rotation as the left+drag operation. However, the provided <em>rayWindow.cpp</em> instead gives translation as the left+drag operation, leaving rotation as the shift+left+drag operation. I had to swap the mouse bindings (lines 154 and 161 of <em>rayWindow.cpp</em>) in order to match the feature description.</p>
        <p>While I was editing <em>rayWindow.cpp</em>, I also moved the near clipping plane ten times closer to the eye than originally specified (line 299).</p><br><img src="nc5rk_HTML/dog.png"><br><img src="nc5rk_HTML/rotateddog.png">
      </td>
    </tr>
    <tr class="red">
      <td>&nbsp;</td>
      <td>(2)</td>
      <td>
        <span>Full scene anti-aliasing using accumulation buffer</span>
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(1)</td>
      <td>
        <span>Four walls, floor, ceiling</span><br>See <a href="javascript:alert('Link removed.')">room.ray</a>.
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(3)</td>
      <td>
        <span>Table, chairs</span><br>See <a href="javascript:alert('Link removed.')">room.ray</a> and <a href="javascript:alert('Link removed.')">chair.ray</a>.
      </td>
    </tr>
    <tr class="red">
      <td>&nbsp;</td>
      <td>(1)</td>
      <td>
        <span>Transparent surface</span>
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(1)</td>
      <td>
        <span>Three texture mapped surfaces</span><br>See <a href="javascript:alert('Link removed.')">room.ray</a>.
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(1)</td>
      <td>
        <span>Three point or spot light sources</span><br>See <a href="javascript:alert('Link removed.')">room.ray</a>.
      </td>
    </tr>
    <tr class="red">
      <td>&nbsp;</td>
      <td>(2)</td>
      <td>
        <span>Luxo Jr. lamp with interactive controls</span>
      </td>
    </tr>
    <tr class="red">
      <td>&nbsp;</td>
      <td>(2)</td>
      <td>
        <span>Mirror</span>
      </td>
    </tr>
    <tr class="red">
      <td>&nbsp;</td>
      <td>(2)</td>
      <td>
        <span>Shadows</span>
      </td>
    </tr>
    <tr class="red">
      <td>&nbsp;</td>
      <td>(2)</td>
      <td>
        <span>Object that responds to clicks</span>
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(1)</td>
      <td>
        <span>Only call RayMaterial::drawOpenGL if material index and materialIndex different</span>
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(2)</td>
      <td>
        <span>Allow ray tracing</span>
        <p>I modified the provided <em>main.cpp</em> to accept three optional command-line arguments: <em>out</em>, <em>rLimit</em>, and <em>cLimit</em>. The argument <em>out</em> causes the ray file to be traced and written to the specified file. The arguments <em>rLimit</em> and <em>cLimit</em> specify the recursion and cutoff limits, with default values 5 and 0.0001.</p>
        <p>While I was editing <em>main.cpp</em>, I also changed the default tessellation complexity to 128. Its original value of 10 produced horribly disfigured spheres.</p>
        <img src="nc5rk_HTML/test.bmp">
      </td>
    </tr>
    <tr class="yellow">
      <td>&nbsp;</td>
      <td>(?)</td>
      <td>
        <span>Impress us with something we hadn't considered...</span>
        <ul>
          <li>
            <p>In addition to scene rotation, I also implemented translation and zoom using shift+left+drag. (As previously mentioned, I had to swap the bindings for translation and rotation.)</p>
            <p>Current implementations of GLUT for the X window system show <a href="http://linux.die.net/man/3/glutmousewheelfunc">unreliable behavior</a> when dealing with certain mouse and keyboard events. In the provided mouse.cpp, neither <em>glutGetModifiers()</em> nor <em>GLUT_SCROLL_WHEEL</em> work on the latest versions of both freeglut and Fedora.</p>
            <p>Despite these platform-specific limitations, I managed to implement zoom by replacing <em>GLUT_SCROLL_WHEEL</em> with its literal equivalents (integers 3 and 4) in <em>mouse.cpp</em>. Note that scrolling the mouse wheel one tick up will enter vertical translate/rotate mode, while scrolling one tick down will enter zoom mode; scrolling itself does not change the camera view. Horizontal translation/rotation will be in effect whether zoom is on or off, since the mouse binding for zoom ignores horizontal distance.</p>
            <p>Although shift+left+drag should translate the camera, I can't be sure that the mouse binding actually works (due to the undetectable shift key on X). However, I do know for certain that translation itself works; I had temporarily set its mouse binding back to left+drag while testing.</p>
          </li>
        </ul>
      </td>
    </tr>
    <tr class="green">
      <td>Other points</td>
      <td>(1)</td>
      <td>
        <span>Submitting one or more images for the art contests</span>
        <ol>
          <li>This image was created using <a href="javascript:alert('Link removed.')">room.ray</a>, <a href="javascript:alert('Link removed.')">chair.ray</a>, and <a href="javascript:alert('Link removed.')">cue.ray</a>.<br><img src="nc5rk_HTML/nc5rk.art.1.png" alt="nc5rk.art.1.png"></li>
          <li>This image was created using <a href="javascript:alert('Link removed.')">neuron.swc</a> and convert.py. The file neuron.swc is based on test data provided by <a href="http://penglab.janelia.org/proj/vaa3d/Vaa3D/Test_Data.html">Hanchuan Peng</a>. The scene contains 2746 spheres.<br><img src="nc5rk_HTML/nc5rk.art.2.gif" alt="nc5rk.art.2.gif"></li>
        </ol>
      </td>
    </tr>
    <tr class="green">
      <td>&nbsp;</td>
      <td>(1)</td>
      <td>
        <span>Submitting one or more .ray files for the art contests</span><br>The files <a href="javascript:alert('Link removed.')">room.ray</a>, <a href="javascript:alert('Link removed.')">chair.ray</a>, <a href="javascript:alert('Link removed.')">cue.ray</a>, and <a href="javascript:alert('Link removed.')">neuron.ray</a> were used to create the two images above.
      </td>
    </tr>
  </table>
  {% include ga.html %}
</body>
</html>
